# Autogenerated bulkloader.yaml file.
# You're likely to have to do various edits to this file:
# At a minimum address the items marked with TODO:
#  * Fill in connector and connector_options
# Also:
#  * Review property_map.

# If you have module(s) with your model classes, add them here. Also
# change the kind properties to model_class.
python_preamble:
- import: google.appengine.ext.bulkload.transform
- import: google.appengine.ext.db
- import: re
- import: base64

transformers:
- kind: accounts_userprofile
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: created_at
      external_name: created_at
      # Type: Date/Time Stats: 7 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: events_paid_for
      external_name: events_paid_for
      # Type: Integer Stats: 7 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: facebook_oauth_token
      external_name: facebook_oauth_token
      # Type: String Stats: 2 properties of this type in this kind.

    - property: facebook_session_key
      external_name: facebook_session_key
      # Type: String Stats: 4 properties of this type in this kind.

    - property: facebook_uid
      external_name: facebook_uid
      # Type: Integer Stats: 4 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: paid_until
      external_name: paid_until
      # Type: Date/Time Stats: 7 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: thumbnail_url
      external_name: thumbnail_url
      # Type: Link Stats: 7 properties of this type in this kind.
      import_transform: db.Link

    - property: tos_accepted
      external_name: tos_accepted
      # Type: Boolean Stats: 7 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: tw_oauth_token_key
      external_name: tw_oauth_token_key
      # Type: String Stats: 5 properties of this type in this kind.

    - property: tw_oauth_token_secret
      external_name: tw_oauth_token_secret
      # Type: String Stats: 5 properties of this type in this kind.

    - property: tw_uid
      external_name: tw_uid
      # Type: Integer Stats: 5 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: user
      external_name: user
      # Type: Key Stats: 7 properties of this type in this kind.
      import_transform: transform.create_foreign_key('auth_user')
      export_transform: transform.key_id_or_name_as_string


- kind: auth_user
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: date_joined
      external_name: date_joined
      # Type: Date/Time Stats: 7 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: email
      external_name: email
      # Type: Email Stats: 1 properties of this type in this kind.
      import_transform: db.Email

    - property: first_name
      external_name: first_name
      # Type: String Stats: 7 properties of this type in this kind.

    - property: is_active
      external_name: is_active
      # Type: Boolean Stats: 7 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: is_staff
      external_name: is_staff
      # Type: Boolean Stats: 7 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: is_superuser
      external_name: is_superuser
      # Type: Boolean Stats: 7 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)

    - property: last_login
      external_name: last_login
      # Type: Date/Time Stats: 7 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: last_name
      external_name: last_name
      # Type: String Stats: 7 properties of this type in this kind.

    - property: password
      external_name: password
      # Type: String Stats: 7 properties of this type in this kind.

    - property: username
      external_name: username
      # Type: String Stats: 7 properties of this type in this kind.


- kind: django_site
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: domain
      external_name: domain
      # Type: String Stats: 7 properties of this type in this kind.

    - property: name
      external_name: name
      # Type: String Stats: 7 properties of this type in this kind.


- kind: rt_monitor_contentitem
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
#    - property: __key__
#      external_name: key
#      export_transform: transform.key_id_or_name_as_string

    - property: __key__
      external_name: tag
      export_transform: "lambda value: unicode(value.parent().name())"

    - property: author
      external_name: author
      # Type: Key Stats: 21642 properties of this type in this kind.
      import_transform: transform.create_foreign_key('rt_monitor_contentitem')
      export_transform: transform.key_id_or_name_as_string

    - property: class
      external_name: class
      # Type: String Stats: 54190 properties of this type in this kind.

    - property: created_at
      external_name: created_at
      # Type: Date/Time Stats: 27095 properties of this type in this kind.
      import_transform: transform.import_date_time('%m/%d/%Y %H:%M')
      export_transform: transform.export_date_time('%m/%d/%Y %H:%M')

    - property: description
      external_name: description
      # Type: String Stats: 86 properties of this type in this kind.

    - property: embed_tag
      external_name: embed_tag
      # Type: Text Stats: 86 properties of this type in this kind.
      import_transform: db.Text

    - property: feed_item
      external_name: feed_item
      # Type: Key Stats: 220 properties of this type in this kind.
      import_transform: transform.create_foreign_key('rt_monitor_contentitem')
      export_transform: transform.key_id_or_name_as_string

    - property: full_url
      external_name: full_url
      # Type: Link Stats: 220 properties of this type in this kind.
      import_transform: db.Link

    - property: index
      external_name: index
      # Type: String Stats: 27095 properties of this type in this kind.

    - property: location
      external_name: location
      # Type: String Stats: 5 properties of this type in this kind.

    - property: mentioned_links
      external_name: mentioned_links
      # Type: String Stats: 7340 properties of this type in this kind.

    - property: mentioned_users
      external_name: mentioned_users
      # Type: String Stats: 27125 properties of this type in this kind.

    - property: message
      external_name: message
      import_transform: db.Text

    - property: name
      external_name: name
      # Type: String Stats: 5451 properties of this type in this kind.

    - property: original_message
      external_name: original_message
      # Type: Text Stats: 18325 properties of this type in this kind.
      import_transform: db.Text

    - property: profile_image_url
      external_name: profile_image_url
      # Type: Link Stats: 5414 properties of this type in this kind.
      import_transform: db.Link

    - property: rank
      external_name: rank
      # Type: Integer Stats: 27095 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: sex
      external_name: sex
      # Type: String Stats: 21 properties of this type in this kind.

    - property: source
      external_name: source
      # Type: String Stats: 27095 properties of this type in this kind.

    - property: stored_at
      external_name: stored_at
      # Type: Date/Time Stats: 27095 properties of this type in this kind.
      import_transform: transform.import_date_time('%m/%d/%Y %H:%M')
      export_transform: transform.export_date_time('%m/%d/%Y %H:%M')

    - property: thumbnail_url
      external_name: thumbnail_url
      # Type: Link Stats: 306 properties of this type in this kind.
      import_transform: db.Link

    - property: title
      external_name: title
      # Type: String Stats: 86 properties of this type in this kind.

    - property: uid
      external_name: uid
      # Type: String Stats: 5417 properties of this type in this kind.

    - property: url
      external_name: url
      # Type: Link Stats: 27095 properties of this type in this kind.
      import_transform: db.Link

    - property: visible
      external_name: visible
      # Type: Boolean Stats: 23001 properties of this type in this kind.
      import_transform: transform.regexp_bool('true', re.IGNORECASE)


- kind: rt_monitor_event
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: created_at
      external_name: created_at
      # Type: Date/Time Stats: 13 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: created_by
      external_name: created_by
      # Type: Key Stats: 13 properties of this type in this kind.
      import_transform: transform.create_foreign_key('auth_user')
      export_transform: transform.key_id_or_name_as_string

    - property: description
      external_name: description
      import_transform: db.Text

    - property: end_time
      external_name: end_time
      # Type: Date/Time Stats: 12 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: event_subtype
      external_name: event_subtype
      # Type: NULL Stats: 1 properties of this type in this kind.

    - property: event_type
      external_name: event_type
      # Type: NULL Stats: 1 properties of this type in this kind.

    - property: facebook_eid
      external_name: facebook_eid
      # Type: Integer Stats: 13 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: facts
      external_name: facts
      # Type: Key Stats: 13 properties of this type in this kind.
      import_transform: transform.create_foreign_key('rt_monitor_eventfacts')
      export_transform: transform.key_id_or_name_as_string

    - property: image_url
      external_name: image_url
      # Type: Link Stats: 12 properties of this type in this kind.
      import_transform: db.Link

    - property: keywords
      external_name: keywords
      # Type: String Stats: 1 properties of this type in this kind.

    - property: location
      external_name: location
      # Type: String Stats: 12 properties of this type in this kind.

    - property: name
      external_name: name
      # Type: String Stats: 13 properties of this type in this kind.

    - property: privacy
      external_name: privacy
      # Type: String Stats: 13 properties of this type in this kind.

    - property: start_time
      external_name: start_time
      # Type: Date/Time Stats: 12 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: tagline
      external_name: tagline
      # Type: String Stats: 13 properties of this type in this kind.

    - property: url
      external_name: url
      # Type: Link Stats: 13 properties of this type in this kind.
      import_transform: db.Link


- kind: rt_monitor_eventfacts
  connector: csv
  connector_options:
    encoding: utf-8
    columns: from_header
  property_map:
    - property: __key__
      external_name: key
      export_transform: transform.key_id_or_name_as_string

    - property: audience_by_network
      external_name: audience_by_network
      # Type: Integer Stats: 352852 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: feed_items_by_network
      external_name: feed_items_by_network
      # Type: Integer Stats: 352852 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: image_items_by_network
      external_name: image_items_by_network
      # Type: Integer Stats: 352852 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: influentials
      external_name: influentials
      # Type: Integer Stats: 326240 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

    - property: networks
      external_name: networks
      # Type: String Stats: 352852 properties of this type in this kind.

    - property: time
      external_name: time
      # Type: Date/Time Stats: 81573 properties of this type in this kind.
      import_transform: transform.import_date_time('%Y%m%dT%H:%M')
      export_transform: transform.export_date_time('%Y%m%dT%H:%M')

    - property: video_items_by_network
      external_name: video_items_by_network
      # Type: Integer Stats: 352852 properties of this type in this kind.
      import_transform: transform.none_if_empty(int)

